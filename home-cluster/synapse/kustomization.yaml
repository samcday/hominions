apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: synapse
configMapGenerator:
  - name: config
    files:
      - config/homeserver.yaml
      - config/log.yaml
      - config/mautrix-signal.yaml
      - config/mautrix-telegram.yaml
      - config/mautrix-whatsapp.yaml
      - config/registration-whatsapp.yaml
  - name: config-whatsapp
    files: [config/mautrix-whatsapp.yaml]
  - name: litestream-config
    files: [litestream.yml]
  - name: litestream-config-whatsapp
    files: [litestream-whatsapp.yml]
resources:
- ingress.yaml
- namespace.yaml
- podmonitor.yaml
- prometheus-rules.yaml
- synapse.yaml
# - vpa.yaml
